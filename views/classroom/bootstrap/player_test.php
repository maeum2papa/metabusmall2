<?php

?>
<div class="asmo_classroom">
	<div id="asmo_classroom_player">
		<section class="video_sect">
			<video id="video" src="https://v1.collaborland.kr:8443/20231214_001.mp4" disablepictureinpicture controls controlsList="noplaybackrate nodownload nofullscreen " ></video>
		</section>

		<section class="video_time">
			<div class="time_bar" style="background-color: #000;width: 0;height: 5px;"></div>
			<div class="time_now"></div>
		</section>

		<section class="video_info">
			<div class="video_info_top">
				<div class="video_category">
					<span>자기계발</span>
					<span>IT</span>
				</div>

				<div class="video_title">
					<strong>문서로 커뮤니케이션하는 직장인 평생 생존스킬. 문서 구조화와 시각화</strong>
					<p>피피티 고수가 되기 위해 총 8개의 작품 만들기</p>
				</div>

				<div class="video_period">
					<p>2023.09.20.~2023.10.20.</p>
				</div>
			</div>

			<div class="video_info_enroll_rate">
				<span>수강률</span>

				<div class="enroll_rate_bar">
					<div class="enroll_rate_bar_fill" style="width: 80%;"></div>
				</div>

				<span id="enroll_rate">80</span>%
			</div>

			<div class="video_info_tab">
				<div class="tab_button_wrap">
					<button class="tab_button selected" data-tab="tab1">
						<strong>커리큘럼</strong>

						<svg id="tap_arrow_icon" data-name="tap arrow_icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
							<rect id="사각형_3874" data-name="사각형 3874" width="18" height="18" fill="#00a8fa" opacity="0"/>
							<rect id="사각형_3875" data-name="사각형 3875" width="12" height="12" transform="translate(3 3)" fill="#00a8fa" opacity="0"/>
							<path id="패스_1182" data-name="패스 1182" d="M6.422.319a.524.524,0,0,1,.711,0l5.475,5.054a.524.524,0,0,1-.356.91H1.3a.524.524,0,0,1-.356-.91Z" transform="translate(15.777 12.283) rotate(180)" fill="#00a8fa"/>
						</svg>

					</button>
					<button class="tab_button" data-tab="tab2">
						<strong>강사소개</strong>

						<svg id="tap_arrow_icon" data-name="tap arrow_icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
							<rect id="사각형_3874" data-name="사각형 3874" width="18" height="18" fill="#00a8fa" opacity="0"/>
							<rect id="사각형_3875" data-name="사각형 3875" width="12" height="12" transform="translate(3 3)" fill="#00a8fa" opacity="0"/>
							<path id="패스_1182" data-name="패스 1182" d="M6.422.319a.524.524,0,0,1,.711,0l5.475,5.054a.524.524,0,0,1-.356.91H1.3a.524.524,0,0,1-.356-.91Z" transform="translate(15.777 12.283) rotate(180)" fill="#00a8fa"/>
						</svg>

					</button>
					<button class="tab_button" data-tab="tab3">
						<strong>강의자료</strong>

						<svg id="tap_arrow_icon" data-name="tap arrow_icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
							<rect id="사각형_3874" data-name="사각형 3874" width="18" height="18" fill="#00a8fa" opacity="0"/>
							<rect id="사각형_3875" data-name="사각형 3875" width="12" height="12" transform="translate(3 3)" fill="#00a8fa" opacity="0"/>
							<path id="패스_1182" data-name="패스 1182" d="M6.422.319a.524.524,0,0,1,.711,0l5.475,5.054a.524.524,0,0,1-.356.91H1.3a.524.524,0,0,1-.356-.91Z" transform="translate(15.777 12.283) rotate(180)" fill="#00a8fa"/>
						</svg>

					</button>
				</div>

				<div class="tab_contents_wrap">
					<div class="tab_contents tab1 selected">

						<div class="tab_content">
							<span>섹션 0. 개발자와 소통하기 위한 기본 지식</span>
						</div>

						<div class="tab_content active">
							<span>섹션 1. 프로젝트 시작, 고수가 되는 첫걸음</span>
						</div>

						<div class="tab_content">
							<span>섹션 2. 피피티 고수는 마인드부터 다르다</span>
						</div>

						<div class="tab_content">
							<span>섹션 3. 아무리 멋진 피피티도 오래 걸리면 소용없다. 작업 속도가 빨라지는 스킬 모음</span>
						</div>

						<div class="tab_content">
							<span>섹션 4. 피피티에 움직임을 불어넣자</span>
						</div>

						<div class="tab_content">
							<span>섹션 5. 수고하셨습니다.</span>
						</div>

					</div>

					<div class="tab_contents tab2">
						<strong>안녕하세요. 강사 피피티프로입니다.</strong>
						<p>안녕하세요. 피피티프로입니다. 제가 처음 피피티를 만지기 시작한 건 대학시절입니다. 결정적으로는 공모전에 다수 참여하면서 피피티 제작 실력이 급격히 늘었던 것 같아요. 덕분에 운 좋게 수상도 할 수 있었구요. 그 뒤에는 광고 회사에 취직하여 기획자로 일하고 있습니다. 회사에서도 수많은 제안서를 작성하며 피피티에 대한 노하우를 쌓아갔어요. 대학, 직장, 유튜브. 지금까지 제가 만들어온 피피티는 이 수많은 사람을 대상으로 완성되어 왔습니다. 현재도 그 경험은 축적되고 있어요. 이 폭넓고 깊은 경험을 하나의 지식으로 담아, 여러분에게 소개해 드리겠습니다.</p>
					</div>

					<div class="tab_contents tab3 ">
						<a href='' download="" class="tab_down_content">

							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
								<g id="file_icon" opacity="0.4">
									<rect id="사각형_3889" data-name="사각형 3889" width="24" height="24" fill="#222" opacity="0"/>
									<rect id="사각형_3890" data-name="사각형 3890" width="18" height="18" transform="translate(3 3)" fill="#222" opacity="0"/>
									<path id="패스_1183" data-name="패스 1183" d="M-19419-7554.5a2.006,2.006,0,0,1-2-2v-8c0-.044.006-.083.006-.126V-7565h-.006v-3a2.006,2.006,0,0,1,2-2h4.406a1.837,1.837,0,0,1,1.891,1h7.7a2,2,0,0,1,2,2v1.5h.006v2h-.006v7a2,2,0,0,1-2,2Zm-.512-9.343h.01v7.345a.5.5,0,0,0,.5.5h14a.5.5,0,0,0,.5-.5v-8a.5.5,0,0,0-.5-.5h-6.809c.01,0,.01-.01.01-.01s-.006,0-.049,0h-.035c-.861,0-1.311-1.365-1.4-1.638v0h-.014l-.3-.75-.049-.107-.029-.068a3.786,3.786,0,0,0-.463-.863,1.116,1.116,0,0,0-.453-.054H-19419a.5.5,0,0,0-.5.5v1.141h-.01Zm8.086-2.656h6.926v-.5a.5.5,0,0,0-.5-.5h-6.926Z" transform="translate(19423.996 7574.25)" fill="#222"/>
								</g>
							</svg>


							<p>피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다.피피티 실습 예제 자료입니다.피피티 실습 예제 자료입니다.</p>

							<span>Download</span>
						</a>

						<a href='' download="" class="tab_down_content">

							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
								<g id="file_icon" opacity="0.4">
									<rect id="사각형_3889" data-name="사각형 3889" width="24" height="24" fill="#222" opacity="0"/>
									<rect id="사각형_3890" data-name="사각형 3890" width="18" height="18" transform="translate(3 3)" fill="#222" opacity="0"/>
									<path id="패스_1183" data-name="패스 1183" d="M-19419-7554.5a2.006,2.006,0,0,1-2-2v-8c0-.044.006-.083.006-.126V-7565h-.006v-3a2.006,2.006,0,0,1,2-2h4.406a1.837,1.837,0,0,1,1.891,1h7.7a2,2,0,0,1,2,2v1.5h.006v2h-.006v7a2,2,0,0,1-2,2Zm-.512-9.343h.01v7.345a.5.5,0,0,0,.5.5h14a.5.5,0,0,0,.5-.5v-8a.5.5,0,0,0-.5-.5h-6.809c.01,0,.01-.01.01-.01s-.006,0-.049,0h-.035c-.861,0-1.311-1.365-1.4-1.638v0h-.014l-.3-.75-.049-.107-.029-.068a3.786,3.786,0,0,0-.463-.863,1.116,1.116,0,0,0-.453-.054H-19419a.5.5,0,0,0-.5.5v1.141h-.01Zm8.086-2.656h6.926v-.5a.5.5,0,0,0-.5-.5h-6.926Z" transform="translate(19423.996 7574.25)" fill="#222"/>
								</g>
							</svg>


							<p>강의 영상 자료.zip</p>

							<span>Download</span>
						</a>

						<a  href='' download="" class="tab_down_content">

							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
								<g id="file_icon" opacity="0.4">
									<rect id="사각형_3889" data-name="사각형 3889" width="24" height="24" fill="#222" opacity="0"/>
									<rect id="사각형_3890" data-name="사각형 3890" width="18" height="18" transform="translate(3 3)" fill="#222" opacity="0"/>
									<path id="패스_1183" data-name="패스 1183" d="M-19419-7554.5a2.006,2.006,0,0,1-2-2v-8c0-.044.006-.083.006-.126V-7565h-.006v-3a2.006,2.006,0,0,1,2-2h4.406a1.837,1.837,0,0,1,1.891,1h7.7a2,2,0,0,1,2,2v1.5h.006v2h-.006v7a2,2,0,0,1-2,2Zm-.512-9.343h.01v7.345a.5.5,0,0,0,.5.5h14a.5.5,0,0,0,.5-.5v-8a.5.5,0,0,0-.5-.5h-6.809c.01,0,.01-.01.01-.01s-.006,0-.049,0h-.035c-.861,0-1.311-1.365-1.4-1.638v0h-.014l-.3-.75-.049-.107-.029-.068a3.786,3.786,0,0,0-.463-.863,1.116,1.116,0,0,0-.453-.054H-19419a.5.5,0,0,0-.5.5v1.141h-.01Zm8.086-2.656h6.926v-.5a.5.5,0,0,0-.5-.5h-6.926Z" transform="translate(19423.996 7574.25)" fill="#222"/>
								</g>
							</svg>


							<p>피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다. 피피티 실습 예제 자료입니다.피피티 실습 예제 자료입니다.피피티 실습 예제 자료입니다.</p>

							<span>Download</span>
						</a>

						<a href='' download="" class="tab_down_content">

							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
								<g id="file_icon" opacity="0.4">
									<rect id="사각형_3889" data-name="사각형 3889" width="24" height="24" fill="#222" opacity="0"/>
									<rect id="사각형_3890" data-name="사각형 3890" width="18" height="18" transform="translate(3 3)" fill="#222" opacity="0"/>
									<path id="패스_1183" data-name="패스 1183" d="M-19419-7554.5a2.006,2.006,0,0,1-2-2v-8c0-.044.006-.083.006-.126V-7565h-.006v-3a2.006,2.006,0,0,1,2-2h4.406a1.837,1.837,0,0,1,1.891,1h7.7a2,2,0,0,1,2,2v1.5h.006v2h-.006v7a2,2,0,0,1-2,2Zm-.512-9.343h.01v7.345a.5.5,0,0,0,.5.5h14a.5.5,0,0,0,.5-.5v-8a.5.5,0,0,0-.5-.5h-6.809c.01,0,.01-.01.01-.01s-.006,0-.049,0h-.035c-.861,0-1.311-1.365-1.4-1.638v0h-.014l-.3-.75-.049-.107-.029-.068a3.786,3.786,0,0,0-.463-.863,1.116,1.116,0,0,0-.453-.054H-19419a.5.5,0,0,0-.5.5v1.141h-.01Zm8.086-2.656h6.926v-.5a.5.5,0,0,0-.5-.5h-6.926Z" transform="translate(19423.996 7574.25)" fill="#222"/>
								</g>
							</svg>


							<p>강의 영상 자료.zip</p>

							<span>Download</span>
						</a>
					</div>
				</div>
			</div>

		</section>
	</div>
</div>
<div id="versionMap" class="line"></div>
<script src="/assets/js/promise-polyfill.js"></script>
<script src="/assets/js/devtools-detector.js"></script>
<script type="text/javascript">


	const video = document.getElementById('video');
	let hasFuncExcuted = false;

	video.ontimeupdate = () => {
		if (!hasFuncExcuted && video.currentTime > 0) {
			console.log('비디오 시작');
			hasFuncExcuted = true;
		}
	};
	
	video.addEventListener('ended', () => {
		console.log('비디오 끝');
	});

	// asmo sh 231114 랜딩 페이지 디자인 상 헤더, 사이드바, 푸터 숨김 처리 스크립트
	$(document).ready(function() {
		$('header').addClass('dn');
		$('.navbar').addClass('dn');
		// $('.sidebar').addClass('dn');
		// $('footer').addClass('dn');

		$('.main').addClass('add');


		// 탭메뉴 스크립트
		$('.tab_button').click(function() {
			$('.tab_button').removeClass('selected');
			$(this).addClass('selected');

			$('.tab_contents').removeClass('selected');
			$('.tab_contents').eq($(this).index()).addClass('selected');
		});

		// 클래스룸 페이지일 때 사이드바 메뉴 활성화
		$('#classroom').addClass('selected');


		let supposedCurrentTime = 0;

		video.addEventListener('timeupdate', function() {
			if (!video.seeking) {
				supposedCurrentTime = video.currentTime;
			}

			var currentPos = parseInt(video.currentTime); // 현재 재생시간(초)
			var maxduration = parseInt(video.duration); // 총 재생시간(초)
			var percentage = 100 * currentPos / maxduration; // 영상 진행률
			var minute = Math.floor(currentPos / 60); // 현재 재생시간(분)

			$('.time_bar').css('width', percentage + '%');

			if(minute > 0){
				$('.time_now').html(minute + '분 ' + Math.floor(currentPos % (60 * minute)) + '초');
			} else {
				$('.time_now').html(minute + '분 ' + Math.floor(currentPos % 60) + '초');
			}

			// 현재 재생시간을 60으로 나눴을 때 나머지값이 없이 딱 떨어지는 경우 => 분
			if(Math.floor(currentPos % 60) === 0){
				if(minute > 0){
					console.log(minute);
					$.ajax({
						method: "POST",
						url: "/classroom_test/setPlayerTime",
						data: {
							mode: 'chkPlayTime',
							mps_sno : '1',
							mps_sectionTime: minute,
							csrf_test_name : cb_csrf_hash
						},
					}).success(function(data){
						var json = $.parseJSON(data);
						console.log(json);
					}).error(function(e){
						console.log(e.responseText);
					});
				}		
			}

			// 90% 넘기면 완료처리
			if(percentage == 90){
				$.ajax({
					method: "POST",
					url: "/classroom_test/setPlayerComplete",
					data: {
						mode: 'chkPlayComplete',
						mps_sno : '1',
						mps_endYn: 'y',
						csrf_test_name : cb_csrf_hash
					},
				}).success(function(data){
					var json = $.parseJSON(data);
					console.log(json);
				}).error(function(e){
					console.log(e.responseText);
				});
			}

			// 100% 가 되면 남은 초만 저장
			if(percentage == 100){
				$.ajax({
					method: "POST",
					url: "/classroom_test/setPlayerEnd",
					data: {
						mode: 'chkPlayEnd',
						mps_sno : '1',
						remainTime: Math.floor(maxduration % 60),
						csrf_test_name : cb_csrf_hash
					},
				}).success(function(data){
					var json = $.parseJSON(data);
					console.log(json);
				}).error(function(e){
					console.log(e.responseText);
				});
			}
		});

		
		video.addEventListener('seeking', function() {
			var delta = video.currentTime - supposedCurrentTime;
			if (Math.abs(delta) > 0.01) {
				console.log("Seeking is disabled");
				video.currentTime = supposedCurrentTime;
			}
		});
	});
	
	
	var keydownCtrl = 0;
	var keydownShift = 0;


	document.onkeydown=keycheck;
	document.onkeyup=uncheckCtrlShift;


	function keycheck()
	{
		  switch(event.keyCode){ 
			case 123:event.keyCode='';return false; break; //F12
			case 17:event.keyCode='';keydownCtrl=1;return false; break; //컨트롤키
		  }


		  if(keydownCtrl) return false;
	}


	function uncheckCtrlShift()
	{
		  if(event.keyCode==17)      keydownCtrl=0;
		  if(event.keyCode==16)      keydownShift=0;
	}


	// function click()
	// {
	// 	if ((event.button==2) || (event.button==2)) 
	// {alert('[마우스 오른쪽 클릭] / [컨트롤] / [F12] 금지 입니다.');}
	// }
	// document.onmousedown=click;
	
	const versionMap = document.getElementById('versionMap');

	// devtoolsDetector.addListener(function (isOpen, detail) {
	// 	console.log('isOpen', isOpen);

	// 	if (isOpen) {
	// 		location.href = '/';
	// 	} else {
	// 	}
	// });

	// devtoolsDetector.launch();

	// versionMap.innerText = Object.keys(devtoolsDetector.versionMap)
	// .map(function (key) {
	// return key + ' : ' + devtoolsDetector.versionMap[key];
	// })
	// .join('\n');

	
</script>